{
    "info": {
        "name": "E-Commerce API",
        "_postman_id": "ecommerce-api-collection",
        "description": "Complete API collection for E-Commerce Backend with authentication, products, cart, and orders",
        "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
    },
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{accessToken}}",
                "type": "string"
            }
        ]
    },
    "item": [
        {
            "name": "Authentication",
            "item": [
                {
                    "name": "Register User",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.environment.set('accessToken', response.data.token);",
                                    "    pm.environment.set('refreshToken', response.data.refreshToken);",
                                    "    pm.environment.set('userId', response.data.user._id);",
                                    "    console.log('User registered successfully');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\",\n  \"phone\": \"+1234567890\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/register",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "register"
                            ]
                        },
                        "description": "**Register a new user account.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `name` | String | Yes | Full name of the user |\n| `email` | String | Yes | Valid email address |\n| `password` | String | Yes | Min 6 characters |\n| `phone` | String | No | Phone number |\n"
                    },
                    "response": [
                        {
                            "name": "Success - User Registered",
                            "originalRequest": {},
                            "status": "Created",
                            "code": 201,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"User registered successfully\",\n  \"data\": {\n    \"user\": {\n      \"_id\": \"user123\",\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\",\n      \"role\": \"user\"\n    },\n    \"accessToken\": \"eyJ...\",\n    \"refreshToken\": \"eyJ...\"\n  }\n}"
                        },
                        {
                            "name": "Error - Email Exists",
                            "originalRequest": {},
                            "status": "Conflict",
                            "code": 409,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Email already exists\"\n}"
                        }
                    ]
                },
                {
                    "name": "Login",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.environment.set('accessToken', response.data.token);",
                                    "    pm.environment.set('refreshToken', response.data.refreshToken);",
                                    "    pm.environment.set('userId', response.data.user._id);",
                                    "    console.log('Login successful');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "**Authenticate user and receive access tokens.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `email` | String | Yes | User email |\n| `password` | String | Yes | User password |\n"
                    },
                    "response": [
                        {
                            "name": "Success - Login",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"_id\": \"user123\",\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\",\n      \"role\": \"user\"\n    },\n    \"accessToken\": \"eyJ...\",\n    \"refreshToken\": \"eyJ...\"\n  }\n}"
                        },
                        {
                            "name": "Error - Invalid Credentials",
                            "originalRequest": {},
                            "status": "Unauthorized",
                            "code": 401,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Invalid email or password\"\n}"
                        }
                    ]
                },
                {
                    "name": "Login as Admin",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.environment.set('adminToken', response.data.token);",
                                    "    pm.environment.set('adminRefreshToken', response.data.refreshToken);",
                                    "    console.log('Admin login successful');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"admin@ecommerce.com\",\n  \"password\": \"admin123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/login",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "login"
                            ]
                        },
                        "description": "**Authenticate as an administrator.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `email` | String | Yes | Admin email |\n| `password` | String | Yes | Admin password |\n"
                    },
                    "response": [
                        {
                            "name": "Success - Admin Login",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Login successful\",\n  \"data\": {\n    \"user\": {\n      \"_id\": \"admin123\",\n      \"name\": \"Admin\",\n      \"email\": \"admin@ecommerce.com\",\n      \"role\": \"admin\"\n    },\n    \"accessToken\": \"eyJ...\",\n    \"refreshToken\": \"eyJ...\"\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Refresh Token",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    pm.environment.set('accessToken', response.data.token);",
                                    "    console.log('Token refreshed');",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/refresh",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "refresh"
                            ]
                        },
                        "description": "**Get a new access token using a valid refresh token.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `refreshToken` | String | Yes | Token received during login |\n"
                    },
                    "response": [
                        {
                            "name": "Success - Token Refreshed",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Token refreshed successfully\",\n  \"data\": {\n    \"accessToken\": \"eyJ...\",\n    \"refreshToken\": \"eyJ...\"\n  }\n}"
                        },
                        {
                            "name": "Error - Invalid Token",
                            "originalRequest": {},
                            "status": "Unauthorized",
                            "code": 401,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Invalid refresh token\"\n}"
                        }
                    ]
                },
                {
                    "name": "Forgot Password",
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/forgot-password",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "forgot-password"
                            ]
                        },
                        "description": "**Request a password reset email for account recovery.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `email` | String | Yes | Registered email address |\n\n### Notes:\n- An email with a reset token will be sent to the provided address\n- The reset token is valid for a limited time\n- If the email doesn't exist, you'll still get a success response (security measure)"
                    },
                    "response": [
                        {
                            "name": "Success - Email Sent",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Password reset email sent\"\n}"
                        },
                        {
                            "name": "Error - User Not Found",
                            "originalRequest": {},
                            "status": "Not Found",
                            "code": 404,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"There is no user with that email address\"\n}"
                        }
                    ]
                },
                {
                    "name": "Reset Password",
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"token\": \"reset_token_from_email\",\n  \"password\": \"newPassword123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/auth/reset-password",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "reset-password"
                            ]
                        },
                        "description": "**Reset user password using the token received via email.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `token` | String | Yes | Reset token from email |\n| `password` | String | Yes | New password (min 6 characters) |\n\n### Notes:\n- The token must be valid and not expired\n- Password must meet minimum security requirements\n- After successful reset, all existing sessions will be invalidated"
                    },
                    "response": [
                        {
                            "name": "Success - Password Reset",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Password reset successful\"\n}"
                        },
                        {
                            "name": "Error - Invalid Token",
                            "originalRequest": {},
                            "status": "Bad Request",
                            "code": 400,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Invalid or expired token\"\n}"
                        }
                    ]
                },
                {
                    "name": "Logout",
                    "request": {
                        "method": "POST",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/auth/logout",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "auth",
                                "logout"
                            ]
                        },
                        "description": "**Logout the current authenticated user.**\n\n### Authentication:\n- Requires valid Bearer token in Authorization header\n\n### Notes:\n- Invalidates the current session\n- User will need to login again to access protected endpoints"
                    },
                    "response": [
                        {
                            "name": "Success - Logout",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Logged out successfully\"\n}"
                        }
                    ]
                }
            ],
            "description": "Authentication endpoints for user registration, login, and password management"
        },
        {
            "name": "Users",
            "item": [
                {
                    "name": "Get Profile",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "profile"
                            ]
                        },
                        "description": "**Retrieve the authenticated user's profile information.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### Response Includes:\n- User ID, name, email\n- Phone number (if provided)\n- Saved addresses\n- Avatar URL (if uploaded)\n- Account creation date"
                    },
                    "response": [
                        {
                            "name": "Success - Profile",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"user\": {\n      \"_id\": \"user123\",\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\",\n      \"addresses\": []\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Update Profile",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"John Doe Updated\",\n  \"phone\": \"+1234567899\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "profile"
                            ]
                        },
                        "description": "**Update user profile information.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `name` | String | No | Full name (max 100 chars) |\n| `phone` | String | No | Contact phone number |\n\n### Notes:\n- All fields are optional - send only what you want to update\n- Email cannot be changed through this endpoint\n- Use the separate avatar upload endpoint for profile pictures"
                    },
                    "response": [
                        {
                            "name": "Success - Profile Updated",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Profile updated successfully\",\n  \"data\": {\n    \"user\": {\n      \"name\": \"John Updated\",\n      \"phone\": \"+123456\"\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Update Profile with Avatar",
                    "request": {
                        "method": "PUT",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "name",
                                    "value": "John Doe",
                                    "type": "text"
                                },
                                {
                                    "key": "phone",
                                    "value": "+1234567890",
                                    "type": "text"
                                },
                                {
                                    "key": "avatar",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/profile",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "profile"
                            ]
                        },
                        "description": "**Update profile with avatar image upload.**\n\n### Request Type:\n- Content-Type: `multipart/form-data`\n\n### Form Data Fields:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `name` | Text | No | Full name |\n| `phone` | Text | No | Phone number |\n| `avatar` | File | No | Profile image (JPG, PNG, max 5MB) |\n\n### Notes:\n- Supported image formats: JPEG, PNG, GIF\n- Maximum file size: 5MB\n- Previous avatar will be replaced if a new one is uploaded"
                    },
                    "response": [
                        {
                            "name": "Success - Avatar Uploaded",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Profile updated successfully\",\n  \"data\": {\n    \"user\": {\n      \"avatar\": \"/uploads/avatar.jpg\"\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Change Password",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"currentPassword\": \"password123\",\n  \"newPassword\": \"newPassword123\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/password",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "password"
                            ]
                        },
                        "description": "**Change the authenticated user's password.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `currentPassword` | String | Yes | Current password for verification |\n| `newPassword` | String | Yes | New password (min 6 characters) |\n\n### Security Notes:\n- Current password must be correct\n- New password must be at least 6 characters\n- New password cannot be the same as current password\n- All active sessions will remain valid after password change"
                    },
                    "response": [
                        {
                            "name": "Success - Password Changed",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Password changed successfully\"\n}"
                        },
                        {
                            "name": "Error - Wrong Password",
                            "originalRequest": {},
                            "status": "Unauthorized",
                            "code": 401,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Incorrect current password\"\n}"
                        }
                    ]
                },
                {
                    "name": "Add Address",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.data.user.addresses.length > 0) {",
                                    "        pm.environment.set('addressId', response.data.user.addresses[0]._id);",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"street\": \"123 Main Street\",\n  \"city\": \"New York\",\n  \"state\": \"NY\",\n  \"country\": \"USA\",\n  \"zipCode\": \"10001\",\n  \"isDefault\": true\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/addresses",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "addresses"
                            ]
                        },
                        "description": "**Add a new shipping address to the user profile.**\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `street` | String | Yes | Street address |\n| `city` | String | Yes | City name |\n| `state` | String | Yes | State/Province |\n| `country` | String | Yes | Country name |\n| `zipCode` | String | Yes | Postal code |\n| `isDefault` | Boolean | No | Set as default address |\n"
                    },
                    "response": [
                        {
                            "name": "Success - Address Added",
                            "originalRequest": {},
                            "status": "Created",
                            "code": 201,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Address added successfully\",\n  \"data\": {\n    \"user\": {\n      \"addresses\": [\n        {\n          \"_id\": \"addr1\",\n          \"street\": \"123 St\",\n          \"city\": \"NY\"\n        }\n      ]\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Update Address",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"street\": \"456 Updated St\",\n  \"city\": \"New York\",\n  \"zipCode\": \"10002\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/users/addresses/{{addressId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "addresses",
                                "{{addressId}}"
                            ]
                        },
                        "description": "**Update an existing shipping address.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### URL Parameters:\n- `addressId`: ID of the address to update\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `street` | String | No | Street address line |\n| `city` | String | No | City name |\n| `state` | String | No | State or province |\n| `country` | String | No | Country name |\n| `zipCode` | String | No | Postal/ZIP code |\n| `isDefault` | Boolean | No | Set as default address |\n\n### Notes:\n- All fields are optional - send only what you want to update\n- Setting `isDefault: true` will unset other default addresses\n- Address must belong to the authenticated user\n"
                    },
                    "response": [
                        {
                            "name": "Success - Address Updated",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Address updated successfully\",\n  \"data\": {\n    \"user\": {\n      \"addresses\": [\n        {\n          \"_id\": \"addr1\",\n          \"street\": \"Updated St\"\n        }\n      ]\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Delete Address",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users/addresses/{{addressId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users",
                                "addresses",
                                "{{addressId}}"
                            ]
                        },
                        "description": "**Delete a shipping address from user profile.**\n\n### URL Parameters:\n- `addressId`: ID of the address to delete\n\n### Notes:\n- Cannot delete if it's the only address and there are pending orders\n- If deleted address was set as default, another address will be set as default automatically"
                    },
                    "response": [
                        {
                            "name": "Success - Address Deleted",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Address deleted successfully\",\n  \"data\": {\n    \"user\": {\n      \"addresses\": []\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Get All Users (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/users?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "users"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "role",
                                    "value": "user",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Retrieve all users in the system (Admin only).**\n\n### Authentication:\n- Requires admin Bearer token\n\n### Query Parameters:\n| Parameter | Type | Required | Description |\n|---|---|---|---|\n| `page` | Number | No | Page number (default: 1) |\n| `limit` | Number | No | Items per page (default: 10) |\n| `role` | String | No | Filter by role: `user` or `admin` |\n\n### Allowed Values:\n**role**: `user`, `admin`"
                    },
                    "response": [
                        {
                            "name": "Success - Users List",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"users\": [\n      {\n        \"name\": \"User 1\"\n      },\n      {\n        \"name\": \"User 2\"\n      }\n    ],\n    \"pagination\": {\n      \"total\": 2\n    }\n  }\n}"
                        }
                    ]
                }
            ],
            "description": "User profile and address management endpoints"
        },
        {
            "name": "Products",
            "item": [
                {
                    "name": "Get All Products",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.data.products.length > 0) {",
                                    "        pm.environment.set('productId', response.data.products[0]._id);",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "category",
                                    "value": "electronics",
                                    "disabled": true
                                },
                                {
                                    "key": "minPrice",
                                    "value": "0",
                                    "disabled": true
                                },
                                {
                                    "key": "maxPrice",
                                    "value": "1000",
                                    "disabled": true
                                },
                                {
                                    "key": "search",
                                    "value": "headphones",
                                    "disabled": true
                                },
                                {
                                    "key": "sort",
                                    "value": "-createdAt",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Retrieve all products with optional filtering and pagination.**\n\n### Authentication:\n- No authentication required (public endpoint)\n\n### Query Parameters:\n| Parameter | Type | Required | Description |\n|---|---|---|---|\n| `page` | Number | No | Page number (default: 1) |\n| `limit` | Number | No | Items per page (default: 10, max: 100) |\n| `category` | String | No | Filter by category |\n| `minPrice` | Number | No | Minimum price filter |\n| `maxPrice` | Number | No | Maximum price filter |\n| `search` | String | No | Search in name, description, tags |\n| `sort` | String | No | Sort field (prefix with `-` for descending) |\n\n### Allowed Values:\n**category**: `electronics`, `clothing`, `books`, `home`, `sports`, `toys`, `other`\n\n**sort examples**: `price`, `-price`, `createdAt`, `-createdAt`, `name`"
                    },
                    "response": [
                        {
                            "name": "Success",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"products\": [\n      {\n        \"_id\": \"prod1\",\n        \"name\": \"Product 1\",\n        \"price\": 100\n      }\n    ],\n    \"pagination\": {\n      \"total\": 1\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Get Featured Products",
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/featured?limit=5",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "featured"
                            ],
                            "query": [
                                {
                                    "key": "limit",
                                    "value": "5"
                                }
                            ]
                        },
                        "description": "**Retrieve featured products for homepage display.**\n\n### Authentication:\n- No authentication required (public endpoint)\n\n### Query Parameters:\n| Parameter | Type | Required | Description |\n|---|---|---|---|\n| `limit` | Number | No | Number of products to return (default: 5) |\n\n### Notes:\n- Returns only products marked as featured by admin\n- Sorted by most recently featured first"
                    },
                    "response": [
                        {
                            "name": "Success - Featured",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"products\": [\n      {\n        \"_id\": \"prod1\",\n        \"name\": \"Featured Product\",\n        \"isFeatured\": true\n      }\n    ]\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Get Product by ID",
                    "request": {
                        "auth": {
                            "type": "noauth"
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/{{productId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "{{productId}}"
                            ]
                        },
                        "description": "**Retrieve detailed information for a single product.**\n\n### Authentication:\n- No authentication required (public endpoint)\n\n### URL Parameters:\n- `productId`: MongoDB ObjectId of the product\n\n### Response Includes:\n- Complete product details\n- Images and specifications\n- Stock availability\n- Reviews and ratings\n- Related product suggestions"
                    },
                    "response": [
                        {
                            "name": "Success - Product Details",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"product\": {\n      \"_id\": \"prod1\",\n      \"name\": \"Product 1\",\n      \"description\": \"Desc\",\n      \"price\": 100\n    }\n  }\n}"
                        },
                        {
                            "name": "Error - Not Found",
                            "originalRequest": {},
                            "status": "Not Found",
                            "code": 404,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Product not found\"\n}"
                        }
                    ]
                },
                {
                    "name": "Create Product (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"name\": \"New Product\",\n  \"description\": \"High quality product description here\",\n  \"price\": 99.99,\n  \"category\": \"electronics\",\n  \"brand\": \"TechBrand\",\n  \"sku\": \"PROD-001\",\n  \"stock\": 100,\n  \"tags\": [\n    \"new\",\n    \"featured\"\n  ]\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/products",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products"
                            ]
                        },
                        "description": "**Create a new product in the catalog (Admin only).**\n\n### Authentication:\n- Requires admin Bearer token\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `name` | String | Yes | Product name (max 100 chars) |\n| `description` | String | Yes | Product description (min 10, max 2000 chars) |\n| `price` | Number | Yes | Selling price (min: 0) |\n| `category` | String | Yes | Product category |\n| `brand` | String | Yes | Brand name (max 50 chars) |\n| `stock` | Number | Yes | Available quantity (min: 0) |\n| `sku` | String | Yes | Unique Stock Keeping Unit identifier |\n| `tags` | Array | No | Product tags (array of strings) |\n| `isFeatured` | Boolean | No | Mark as featured (default: false) |\n\n### Allowed Values:\n**category**: `electronics`, `clothing`, `books`, `home`, `sports`, `toys`, `other`\n\n### Notes:\n- SKU must be unique across all products\n- Use the separate endpoint with form-data to upload product images\n- Product will be active and visible immediately after creation\n- Tags help with search and filtering\n"
                    },
                    "response": [
                        {
                            "name": "Success - Created",
                            "originalRequest": {},
                            "status": "Created",
                            "code": 201,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Product created successfully\",\n  \"data\": {\n    \"product\": {\n      \"_id\": \"prod1\",\n      \"name\": \"New Product\"\n    }\n  }\n}"
                        },
                        {
                            "name": "Error - Validation",
                            "originalRequest": {},
                            "status": "Bad Request",
                            "code": 400,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"\\\"price\\\" must be a number\"\n}"
                        }
                    ]
                },
                {
                    "name": "Create Product with Images (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "POST",
                        "header": [],
                        "body": {
                            "mode": "formdata",
                            "formdata": [
                                {
                                    "key": "name",
                                    "value": "Product with Images",
                                    "type": "text"
                                },
                                {
                                    "key": "description",
                                    "value": "Product description with images",
                                    "type": "text"
                                },
                                {
                                    "key": "price",
                                    "value": "199.99",
                                    "type": "text"
                                },
                                {
                                    "key": "category",
                                    "value": "electronics",
                                    "type": "text"
                                },
                                {
                                    "key": "sku",
                                    "value": "PROD-IMG-001",
                                    "type": "text"
                                },
                                {
                                    "key": "stock",
                                    "value": "50",
                                    "type": "text"
                                },
                                {
                                    "key": "images",
                                    "type": "file",
                                    "src": []
                                },
                                {
                                    "key": "images",
                                    "type": "file",
                                    "src": []
                                }
                            ]
                        },
                        "url": {
                            "raw": "{{baseUrl}}/products",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products"
                            ]
                        },
                        "description": "**Create a new product with image uploads (Admin only).**\n\n### Authentication:\n- Requires admin Bearer token\n\n### Request Type:\n- Content-Type: `multipart/form-data`\n\n### Form Data Fields:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `name` | Text | Yes | Product name (max 100 chars) |\n| `description` | Text | Yes | Product description (max 2000 chars) |\n| `price` | Text | Yes | Price (numeric, min 0) |\n| `category` | Text | Yes | Product category |\n| `sku` | Text | Yes | Stock Keeping Unit |\n| `stock` | Text | Yes | Available quantity (numeric, min 0) |\n| `brand` | Text | No | Brand name |\n| `images` | File | No | Product images (multiple allowed, max 5MB each) |\n\n### Allowed Values:\n**category**: `electronics`, `clothing`, `books`, `home`, `sports`, `toys`, `other`\n\n### Notes:\n- You can upload multiple images by adding multiple `images` fields\n- Supported formats: JPEG, PNG, GIF\n- First image will be set as primary by default"
                    },
                    "response": [
                        {
                            "name": "Success - Created with Images",
                            "originalRequest": {},
                            "status": "Created",
                            "code": 201,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Product created successfully\",\n  \"data\": {\n    \"product\": {\n      \"images\": [\n        {\n          \"url\": \"/uploads/img.jpg\"\n        }\n      ]\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Update Product (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"price\": 89.99,\n  \"stock\": 150\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/products/{{productId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "{{productId}}"
                            ]
                        },
                        "description": "**Update product details (Admin only).**\n\n### Authentication:\n- Requires admin Bearer token\n\n### URL Parameters:\n- `productId`: MongoDB ObjectId of the product\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `name` | String | No | Product name (max 100 chars) |\n| `description` | String | No | Product description (max 2000 chars) |\n| `price` | Number | No | New price (min: 0) |\n| `stock` | Number | No | New stock level (min: 0) |\n| `category` | String | No | Product category |\n| `brand` | String | No | Brand name |\n| `isFeatured` | Boolean | No | Mark as featured product |\n| `tags` | Array | No | Product tags (array of strings) |\n\n### Allowed Values:\n**category**: `electronics`, `clothing`, `books`, `home`, `sports`, `toys`, `other`\n\n### Notes:\n- All fields are optional - send only what you want to update\n- SKU cannot be changed through this endpoint\n- Price changes affect new orders only, not existing ones\n- Use separate endpoint for image uploads\n"
                    },
                    "response": [
                        {
                            "name": "Success - Updated",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Product updated successfully\",\n  \"data\": {\n    \"product\": {\n      \"name\": \"Updated Name\"\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Delete Product (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/products/{{productId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "{{productId}}"
                            ]
                        },
                        "description": "**Soft delete a product from the catalog (Admin only).**\n\n### Authentication:\n- Requires admin Bearer token\n\n### URL Parameters:\n- `productId`: MongoDB ObjectId of the product\n\n### Notes:\n- This is a soft delete - product is marked as inactive, not permanently removed\n- Product will no longer appear in public listings\n- Order history referencing this product remains intact\n- Can be reactivated by admin if needed"
                    },
                    "response": [
                        {
                            "name": "Success - Deleted",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Product deleted successfully\"\n}"
                        }
                    ]
                },
                {
                    "name": "Add Product Review",
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"rating\": 5,\n  \"comment\": \"Excellent product! Highly recommended.\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/products/{{productId}}/reviews",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "products",
                                "{{productId}}",
                                "reviews"
                            ]
                        },
                        "description": "**Add a review and rating to a product.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### URL Parameters:\n- `productId`: MongoDB ObjectId of the product\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `rating` | Number | Yes | Rating score (1-5) |\n| `comment` | String | No | Review text |\n\n### Allowed Values:\n**rating**: Integer from `1` to `5` (1 = Poor, 5 = Excellent)\n\n### Notes:\n- Users can only review products they have purchased\n- One review per user per product\n- Product's average rating updates automatically"
                    },
                    "response": []
                }
            ],
            "description": "Product catalog management and browsing endpoints"
        },
        {
            "name": "Cart",
            "item": [
                {
                    "name": "Get Cart",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/cart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart"
                            ]
                        },
                        "description": "**Retrieve the current user's shopping cart.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### Response Includes:\n- List of cart items with product details\n- Quantity for each item\n- Individual item prices\n- Subtotal and total price\n- Stock availability status for each item\n\n### Notes:\n- Returns empty cart if no items added\n- Prices are calculated in real-time based on current product prices"
                    },
                    "response": [
                        {
                            "name": "Success - With Items",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"cart\": {\n      \"items\": [\n        {\n          \"product\": \"prod1\",\n          \"quantity\": 1\n        }\n      ],\n      \"totalPrice\": 100\n    }\n  }\n}"
                        },
                        {
                            "name": "Success - Empty Cart",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"cart\": {\n      \"items\": [],\n      \"totalPrice\": 0\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Add to Cart",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 200) {",
                                    "    const response = pm.response.json();",
                                    "    if (response.data.cart.items.length > 0) {",
                                    "        pm.environment.set('cartItemId', response.data.cart.items[0]._id);",
                                    "    }",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"productId\": \"{{productId}}\",\n  \"quantity\": 1\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/cart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart"
                            ]
                        },
                        "description": "**Add a product to the shopping cart.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `productId` | String | Yes | MongoDB ObjectId of the product |\n| `quantity` | Number | Yes | Quantity to add (min: 1, max: available stock) |\n\n### Notes:\n- If product already exists in cart, quantity will be incremented\n- Product must be active and in stock\n- Quantity cannot exceed available stock\n- Cart total is calculated automatically\n"
                    },
                    "response": [
                        {
                            "name": "Success - Item Added",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Item added to cart successfully\",\n  \"data\": {\n    \"cart\": {\n      \"items\": [\n        {\n          \"product\": \"prod1\",\n          \"quantity\": 1\n        }\n      ]\n    }\n  }\n}"
                        },
                        {
                            "name": "Error - Out of Stock",
                            "originalRequest": {},
                            "status": "Bad Request",
                            "code": 400,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Product is out of stock\"\n}"
                        }
                    ]
                },
                {
                    "name": "Update Cart Item",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"quantity\": 3\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/cart/{{cartItemId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart",
                                "{{cartItemId}}"
                            ]
                        },
                        "description": "**Update quantity of a specific item in the cart.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### URL Parameters:\n- `cartItemId`: ID of the cart item to update\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `quantity` | Number | Yes | New quantity (min: 1, max: available stock) |\n\n### Notes:\n- Quantity must be a positive integer\n- Cannot exceed available product stock\n- Cart total will be recalculated automatically\n- Set quantity to 0 or use DELETE endpoint to remove item\n"
                    },
                    "response": [
                        {
                            "name": "Success - Quantity Updated",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Cart item updated successfully\",\n  \"data\": {\n    \"cart\": {\n      \"items\": [\n        {\n          \"quantity\": 3\n        }\n      ]\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Remove from Cart",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/cart/{{cartItemId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart",
                                "{{cartItemId}}"
                            ]
                        },
                        "description": "**Remove a specific item from the shopping cart.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### URL Parameters:\n- `cartItemId`: ID of the cart item to remove\n\n### Notes:\n- Cart total will be recalculated automatically\n- Item is permanently removed from cart\n- To change quantity instead, use the Update Cart Item endpoint"
                    },
                    "response": []
                },
                {
                    "name": "Clear Cart",
                    "request": {
                        "method": "DELETE",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/cart",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "cart"
                            ]
                        },
                        "description": "**Remove all items from the shopping cart.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### Notes:\n- Removes all items at once\n- Cart total will be reset to 0\n- This action cannot be undone\n- Useful for starting fresh or after order completion"
                    },
                    "response": [
                        {
                            "name": "Success - Cart Cleared",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Cart cleared successfully\",\n  \"data\": {\n    \"cart\": {\n      \"items\": [],\n      \"totalPrice\": 0\n    }\n  }\n}"
                        }
                    ]
                }
            ],
            "description": "Shopping cart management endpoints"
        },
        {
            "name": "Orders",
            "item": [
                {
                    "name": "Create Order",
                    "event": [
                        {
                            "listen": "test",
                            "script": {
                                "exec": [
                                    "if (pm.response.code === 201) {",
                                    "    const response = pm.response.json();",
                                    "    pm.environment.set('orderId', response.data.order._id);",
                                    "    pm.environment.set('orderNumber', response.data.order.orderNumber);",
                                    "}"
                                ],
                                "type": "text/javascript"
                            }
                        }
                    ],
                    "request": {
                        "method": "POST",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"shippingAddress\": {\n    \"street\": \"123 Main St\",\n    \"city\": \"New York\",\n    \"state\": \"NY\",\n    \"country\": \"USA\",\n    \"zipCode\": \"10001\"\n  },\n  \"paymentMethod\": \"stripe\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/orders",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders"
                            ]
                        },
                        "description": "**Create a new order from the current cart.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `shippingAddress` | Object | Yes | Complete shipping address details |\n| `shippingAddress.street` | String | Yes | Street address line |\n| `shippingAddress.city` | String | Yes | City name |\n| `shippingAddress.state` | String | Yes | State or province |\n| `shippingAddress.country` | String | Yes | Country name |\n| `shippingAddress.zipCode` | String | Yes | Postal/ZIP code |\n| `paymentMethod` | String | No | Payment method identifier (default: stripe) |\n\n### Allowed Values:\n**paymentMethod**: `stripe`, `paypal`, `cash_on_delivery`\n\n### Notes:\n- Cart must contain at least one item\n- All cart items must be in stock\n- Order will be created with status 'pending'\n- Cart will be cleared after successful order creation\n- Shipping cost will be calculated based on address\n"
                    },
                    "response": [
                        {
                            "name": "Success - Order Created",
                            "originalRequest": {},
                            "status": "Created",
                            "code": 201,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Order created successfully\",\n  \"data\": {\n    \"order\": {\n      \"orderNumber\": \"ORD-123\",\n      \"status\": \"pending\"\n    }\n  }\n}"
                        },
                        {
                            "name": "Error - Cart Empty",
                            "originalRequest": {},
                            "status": "Bad Request",
                            "code": 400,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Cart is empty\"\n}"
                        }
                    ]
                },
                {
                    "name": "Get My Orders",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "status",
                                    "value": "pending",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Retrieve all orders for the authenticated user.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### Query Parameters:\n| Parameter | Type | Required | Description |\n|---|---|---|---|\n| `page` | Number | No | Page number (default: 1) |\n| `limit` | Number | No | Items per page (default: 10) |\n| `status` | String | No | Filter by order status |\n\n### Allowed Values:\n**status**: `pending`, `processing`, `shipped`, `delivered`, `cancelled`, `refunded`\n\n### Notes:\n- Returns orders sorted by most recent first\n- Each order includes items, shipping address, and payment status"
                    },
                    "response": []
                },
                {
                    "name": "Get Order by ID",
                    "request": {
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders/{{orderId}}",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "{{orderId}}"
                            ]
                        },
                        "description": "**Retrieve detailed information for a specific order.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### URL Parameters:\n- `orderId`: MongoDB ObjectId of the order\n\n### Response Includes:\n- Order number and status\n- Complete list of ordered items\n- Shipping address\n- Payment information\n- Status history and tracking details\n- Timestamps for all status changes\n\n### Notes:\n- Users can only view their own orders\n- Admins can view any order"
                    },
                    "response": [
                        {
                            "name": "Success - Order Details",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"order\": {\n      \"orderNumber\": \"ORD-123\",\n      \"items\": []\n    }\n  }\n}"
                        },
                        {
                            "name": "Error - Not Found",
                            "originalRequest": {},
                            "status": "Not Found",
                            "code": 404,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Order not found\"\n}"
                        }
                    ]
                },
                {
                    "name": "Cancel Order",
                    "request": {
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"reason\": \"Changed my mind\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/orders/{{orderId}}/cancel",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "{{orderId}}",
                                "cancel"
                            ]
                        },
                        "description": "**Cancel a pending or processing order.**\n\n### Authentication:\n- Requires valid Bearer token\n\n### URL Parameters:\n- `orderId`: MongoDB ObjectId of the order\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `reason` | String | No | Cancellation reason (max 500 chars) |\n\n### Notes:\n- Only orders with status `pending` or `processing` can be cancelled\n- Orders that are `shipped` or `delivered` cannot be cancelled\n- Stock will be returned to inventory automatically\n- Cancellation triggers email notification\n- For shipped orders, contact support for return/refund\n"
                    },
                    "response": [
                        {
                            "name": "Success - Cancelled",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Order cancelled successfully\",\n  \"data\": {\n    \"order\": {\n      \"status\": \"cancelled\"\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Get All Orders (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "GET",
                        "header": [],
                        "url": {
                            "raw": "{{baseUrl}}/orders/admin/all?page=1&limit=10",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "admin",
                                "all"
                            ],
                            "query": [
                                {
                                    "key": "page",
                                    "value": "1"
                                },
                                {
                                    "key": "limit",
                                    "value": "10"
                                },
                                {
                                    "key": "status",
                                    "value": "pending",
                                    "disabled": true
                                }
                            ]
                        },
                        "description": "**Retrieve all orders in the system (Admin only).**\n\n### Authentication:\n- Requires admin Bearer token\n\n### Query Parameters:\n| Parameter | Type | Required | Description |\n|---|---|---|---|\n| `page` | Number | No | Page number (default: 1) |\n| `limit` | Number | No | Items per page (default: 10) |\n| `status` | String | No | Filter by order status |\n\n### Allowed Values:\n**status**: `pending`, `processing`, `shipped`, `delivered`, `cancelled`, `refunded`\n\n### Notes:\n- Returns all orders from all users\n- Includes complete order details and user information\n- Useful for order management and fulfillment"
                    },
                    "response": [
                        {
                            "name": "Success - Orders List",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"data\": {\n    \"orders\": [],\n    \"pagination\": {\n      \"total\": 10\n    }\n  }\n}"
                        }
                    ]
                },
                {
                    "name": "Update Order Status (Admin)",
                    "request": {
                        "auth": {
                            "type": "bearer",
                            "bearer": [
                                {
                                    "key": "token",
                                    "value": "{{adminToken}}",
                                    "type": "string"
                                }
                            ]
                        },
                        "method": "PUT",
                        "header": [
                            {
                                "key": "Content-Type",
                                "value": "application/json"
                            }
                        ],
                        "body": {
                            "mode": "raw",
                            "raw": "{\n  \"status\": \"shipped\",\n  \"note\": \"Order shipped via FedEx. Tracking: 123456\"\n}"
                        },
                        "url": {
                            "raw": "{{baseUrl}}/orders/{{orderId}}/status",
                            "host": [
                                "{{baseUrl}}"
                            ],
                            "path": [
                                "orders",
                                "{{orderId}}",
                                "status"
                            ]
                        },
                        "description": "**Update the processing status of an order (Admin only).**\n\n### Authentication:\n- Requires admin Bearer token\n\n### URL Parameters:\n- `orderId`: MongoDB ObjectId of the order\n\n### Request Body Parameters:\n| Field | Type | Required | Description |\n|---|---|---|---|\n| `status` | String | Yes | New order status |\n| `note` | String | No | Admin note/tracking info (max 500 chars) |\n\n### Allowed Values:\n**status**:\n- `pending` - Order received, awaiting processing\n- `processing` - Order is being prepared\n- `shipped` - Order has been dispatched\n- `delivered` - Order successfully delivered\n- `cancelled` - Order cancelled by admin/user\n- `refunded` - Payment refunded to customer\n\n### Status Transition Rules:\n- Cannot change from `delivered` to `pending`\n- Cannot change from `refunded` to any other status\n- `cancelled` orders cannot be updated\n\n### Notes:\n- Status change triggers email notification to customer\n- Include tracking information in the `note` field when marking as `shipped`\n- Refund must be processed separately through payment provider\n"
                    },
                    "response": [
                        {
                            "name": "Success - Shipped",
                            "originalRequest": {},
                            "status": "OK",
                            "code": 200,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"success\",\n  \"message\": \"Order status updated successfully\",\n  \"data\": {\n    \"order\": {\n      \"status\": \"shipped\"\n    }\n  }\n}"
                        },
                        {
                            "name": "Error - Invalid Status",
                            "originalRequest": {},
                            "status": "Bad Request",
                            "code": 400,
                            "_postman_previewlanguage": "json",
                            "header": [
                                {
                                    "key": "Content-Type",
                                    "value": "application/json"
                                }
                            ],
                            "cookie": [],
                            "body": "{\n  \"status\": \"error\",\n  \"message\": \"Status must be one of: pending, processing, shipped, delivered, cancelled, refunded\"\n}"
                        }
                    ]
                }
            ],
            "description": "Order creation and management endpoints"
        },
        {
            "name": "Health Check",
            "request": {
                "auth": {
                    "type": "noauth"
                },
                "method": "GET",
                "header": [],
                "url": {
                    "raw": "{{baseUrl}}/health",
                    "host": [
                        "{{baseUrl}}"
                    ],
                    "path": [
                        "health"
                    ]
                },
                "description": "**Check if the API server is running and healthy.**\n\n### Authentication:\n- No authentication required (public endpoint)\n\n### Response Includes:\n- Server status\n- Current timestamp\n- API version (if configured)\n\n### Notes:\n- Use this endpoint to verify API availability\n- Useful for monitoring and health checks\n- Returns 200 OK if server is operational"
            },
            "response": [
                {
                    "name": "Success",
                    "status": "OK",
                    "code": 200,
                    "_postman_previewlanguage": "json",
                    "header": [
                        {
                            "key": "Content-Type",
                            "value": "application/json"
                        }
                    ],
                    "body": "{\n  \"status\": \"success\",\n  \"message\": \"API is running\",\n  \"timestamp\": \"2026-01-16T00:30:00.000Z\"\n}"
                }
            ]
        }
    ],
    "event": [
        {
            "listen": "prerequest",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global pre-request script",
                    "console.log('Request to:', pm.request.url.toString());"
                ]
            }
        },
        {
            "listen": "test",
            "script": {
                "type": "text/javascript",
                "exec": [
                    "// Global test script",
                    "pm.test('Response time is less than 2000ms', function () {",
                    "    pm.expect(pm.response.responseTime).to.be.below(2000);",
                    "});",
                    "",
                    "pm.test('Response has correct content type', function () {",
                    "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
                    "});"
                ]
            }
        }
    ]
}